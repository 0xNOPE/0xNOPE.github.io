<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>0xNOPE</title><meta name="author" content="0xNOPE"><meta name="copyright" content="0xNOPE"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="0xNOPE">
<meta property="og:url" content="http://0xnope.top/index.html">
<meta property="og:site_name" content="0xNOPE">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/huiye/huiye.jpg">
<meta property="article:author" content="0xNOPE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/huiye/huiye.jpg"><link rel="shortcut icon" href="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185002.png"><link rel="canonical" href="http://0xnope.top/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-03-06 22:59:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="0xNOPE" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/huiye/huiye.jpg" onerror="onerror=null;src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303184956.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/Gris/g1.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">0xNOPE</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">0xNOPE</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/03/Buuctf-reverse/" title="Buuctf_reverse">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-full-v3.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="Buuctf_reverse"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/03/Buuctf-reverse/" title="Buuctf_reverse">Buuctf_reverse</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-03T14:58:40.000Z" title="Created 2021-03-03 22:58:40">2021-03-03</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-04T15:30:03.862Z" title="Updated 2021-03-04 23:30:03">2021-03-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Reverse/">Reverse</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Reverse/">Reverse</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/CTF/">CTF</a></span></div><div class="content">[GWCTF 2019]re3关键词：IDC AES MD5 SMC查看文件基本信息：
去除混淆恢复sub_40207B()函数：拖入ida，main函数如下：
可以看到，sub_402219被当作数据进行异或，然后被当作函数被调用，也就是说异或完后，这个函数才是真正的函数。
这就是SMC(Self-Modifying Code)代码自修改
选中地址402219按“D键”先将其转换为Data，然后用idc脚本（File-&gt;Script command-&gt;idc）将其异或回来：
#include  &lt;idc.idc&gt;static main()&#123;    auto addr = 0x402219;    auto i;    for(i = 0; i &lt;= 223; ++i)&#123;        PatchByte(addr+i,Byte(addr+i)^0x99);    &#125;&#125;


选中数据，右键分析选中区域，force强制执行，按P键重构成函数。
逆向分析sub_402219()函数AES算法
加密后的密文为：

BC0A ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/02/java%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="java复习资料">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-2019-xmas-countdown7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="java复习资料"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/02/java%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="java复习资料">java复习资料</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-02T13:51:55.000Z" title="Created 2021-03-02 21:51:55">2021-03-02</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-03T15:33:52.790Z" title="Updated 2021-03-03 23:33:52">2021-03-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">java</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/jjaavvaa/">jjaavvaa</a></span></div><div class="content">重写和重载重写：(外壳不变、final、static、权限、继承)
1、返回值和形参都不能改变。即外壳不变，核心重写！
2、声明为 final 的方法不能被重写。
3、声明为 static 的方法不能被重写，但是能够被再次声明。
4、构造方法不能被重写。
5、访问权限不能比父类中被重写的方法的访问权限更低。
6、如果不能继承一个类，则不能重写该类的方法。
重载：1、方法名字相同，参数一定不同。返回类型可以相同也可以不同。
2、被重载的方法可以改变访问修饰符。
3、返回值不能作为重载函数的区分标准！！！
4、构造方法可以被重载！！！
简言之，重写外壳不变，重载参数必变。

例题：
下面哪个函数是public void  aMethod(){…}的重载函数？（ D ） 
A、void  aMethod( ){…} 
B、public int  aMethod(){…} 
C、public void  aMethod ( ){…} 
D、public int  aMethod ( int m){…} 

Java数组初始化默认值：


类型
默认初始化



boolean
false


 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/06/PE%E6%96%87%E4%BB%B6%E6%80%BB%E7%BB%93/" title="PE文件总结">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="PE文件总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/06/PE%E6%96%87%E4%BB%B6%E6%80%BB%E7%BB%93/" title="PE文件总结">PE文件总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-06T14:28:37.000Z" title="Created 2021-03-06 22:28:37">2021-03-06</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-06T14:51:32.233Z" title="Updated 2021-03-06 22:51:32">2021-03-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/C/">C++</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/C/Win/">Win</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C/">C++</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/PE/">PE</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Windows/">Windows</a></span></div><div class="content">写点笔记做点记录，一些PE文件的粗浅认识。
PE文件格式图总览
PE文件格式介绍PE（Portable Execute）文件是Windows下可执行文件的总称，常见的有EXE、SCR、DLL、OCX、CPL、DRV、SYS、VXD、OBJ等，事实上，一个文件是否是PE文件与其扩展名无关，PE文件可以是任何扩展名。认识PE文件不是作为单一内存映射文件被装入内存是很重要的。Windows加载器（又称PE加载器）遍历PE文件并决定文件的哪一部分被映射，这种映射方式是将文件较高的偏移位置映射到较高的内存地址中。由于磁盘对齐与内存对齐的不一样，加载到内存的PE文件与磁盘上的PE文件各个部分的分布有差异。

先简单说明一下几个知识点：1 从DOS头到节区头是PE头（NT头）部分，其下的节区合称为PE体。2 文件中使用偏移（offset），内存中使用VA(VirtualAddress 虚拟地址)来表示位置。3 文件加载到内存中时，情况就会发生变化。文件的内容一般可以分为代码（.text）、数据(.data)、资源（.rsrc）节，分别保存。4 PE头与各节区的尾部存在一个区域，称为NULL填充。文件 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/06/inline-hook/" title="inline_hook">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-3.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="inline_hook"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/06/inline-hook/" title="inline_hook">inline_hook</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-06T13:39:39.000Z" title="Created 2021-03-06 21:39:39">2021-03-06</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-06T14:03:31.776Z" title="Updated 2021-03-06 22:03:31">2021-03-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/C/">C++</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Reverse/">Reverse</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Hook/">Hook</a></span></div><div class="content">inline hook是一种通过修改机器码来实现hook的技术。
我们知道，任何程序，不管多大，不管是面向对象编程还是面向过程编程，其底层都是由一条一条的指令流组成的，我们改变指令的执行流程，在call函数执行之前将其跳转到我们的函数，执行完我们的函数再跳转回call函数的下一条指令，这样就将其hook了。也就是说，我们要hook一个函数，就在函数开头的地方改变执行流程。
代码如下：
//inline hook 实际上就是指 通过改变目标函数头部的代码来使改变后的代码跳转至我们自己设置的一个函数里，产生hook.#include &lt;windows.h&gt;#include &lt;stdio.h&gt;//定义一个与MessageBoxA类型一致的函数指针。typedef int (WINAPI* MessageBox_type)(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);MessageBox_type RealMessageBox = MessageBoxA;//自定义的MessageBox，每调用Mess ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/03/VMT-HOOK/" title="VMT_HOOK">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-6.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="VMT_HOOK"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/03/VMT-HOOK/" title="VMT_HOOK">VMT_HOOK</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-03T14:12:51.000Z" title="Created 2021-03-03 22:12:51">2021-03-03</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-03T15:37:27.423Z" title="Updated 2021-03-03 23:37:27">2021-03-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/C/">C++</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Reverse/">Reverse</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Hook/">Hook</a></span></div><div class="content">我们知道，如果一个类当中有虚函数，那么这些类的每个对象将在偏移量0x0处包含指向vTable（虚表）的指针，vTable中保存的则是当前类中所有虚函数的函数地址。它只是一个指针数组，对象通过在vTable中找到它们的指针来调用这些函数。要执行vTable挂钩，我们要做的就是用指向自己函数的指针覆盖该指针。在函数的最后，只需调用原始函数即可。
内存结构图如下：
步骤有三：

获得虚表指针
修改虚表的内存保护属性
修改虚表中的虚函数地址为我们的函数地址

代码如下：
#include &lt;Windows.h&gt;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;class Cat &#123;public:	Cat() &#123;		cout &lt;&lt; &quot;Cat无参构造函数&quot; &lt;&lt; endl;	&#125;	~Cat() &#123;		cout &lt;&lt; &quot;~Cat析构函数&quot; &lt;&lt; endl;	&#125;	virt ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/03/C++%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A%E5%92%8C%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A/" title="C++中的静态绑定和动态绑定">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-2019-xmas-countdown7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="C++中的静态绑定和动态绑定"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/03/C++%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A%E5%92%8C%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A/" title="C++中的静态绑定和动态绑定">C++中的静态绑定和动态绑定</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-03T12:05:24.000Z" title="Created 2021-03-03 20:05:24">2021-03-03</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-03T15:34:02.024Z" title="Updated 2021-03-03 23:34:02">2021-03-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/C/">C++</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C/">C++</a></span></div><div class="content">首先需要明确几个名词定义：

静态类型：对象在声明时采用的类型，在编译时就已经确定，不可更改；
动态类型：通常是指一个指针或引用目前所指对象的类型，是在运行时决定，可更改；
静态绑定：绑定的是静态类型，所对应的函数或属性依赖于对象的静态类型，发生在编译期；
动态绑定：绑定的是动态类型，所对应的函数或属性依赖于对象的动态类型，发生在运行期；
继承关系会导致对象的指针和引用具有静态类型和动态类型。

只有虚函数是动态绑定，其他非虚函数都是静态绑定，即编译时就已经确定。
看看下面的代码：
#include &lt;iostream&gt;using namespace std;class A &#123;public:	void Print() &#123;		cout &lt;&lt; &quot;A::Print&quot; &lt;&lt; endl;	&#125;	virtual void vfunc()&#123;		cout &lt;&lt; &quot;A::vfunc&quot; &lt;&lt; endl;	&#125;&#125;;class B : public A&# ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/03/%E8%99%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E8%B0%83%E7%94%A8%E5%92%8C%E8%99%9A%E8%B0%83%E7%94%A8/" title="虚函数的实调用和虚调用">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="虚函数的实调用和虚调用"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/03/%E8%99%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E8%B0%83%E7%94%A8%E5%92%8C%E8%99%9A%E8%B0%83%E7%94%A8/" title="虚函数的实调用和虚调用">虚函数的实调用和虚调用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-03T11:45:54.000Z" title="Created 2021-03-03 19:45:54">2021-03-03</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-03T15:33:27.279Z" title="Updated 2021-03-03 23:33:27">2021-03-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/C/">C++</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C/">C++</a></span></div><div class="content">​        在发生虚函数调用的时候，如果函数调用的入口是在静态编译阶段就已经确定的话，就是实调用，如果函数入口需要在运行时通过查找虚表获得，就是虚调用，其本质是动态联编。
实调用的几种情形构造函数和析构函数当中调用虚函数在构造函数当中调用虚函数，其实是对虚函数的实调用。如何理解？
因为在一个类的构造函数运行完毕之前，这个对象还没有完全生成，所以在构造函数当中调用虚函数，也只能是实调用父类的那个虚函数罢了。
同理，销毁一个对象时，运行这个对象的析构函数时，这个对象已经被析构，所以该对象的虚函数也被析构，所以只能实调用其父类的虚函数了。
示例如下：
\#include  using namespace std; class A &#123;     public: virtual void show() &#123; 	        cout &lt;&lt; &quot;in A&quot; &lt;&lt; endl;     &#125;     A() &#123;  	        cout &lt;&lt; &quot;A构造函数&quot; ; 	        s ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/02/hello-world/" title="Hello World">     <img class="post_bg" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-2019-xmas-countdown1-v2.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/02/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-02T12:12:34.218Z" title="Created 2021-03-02 20:12:34">2021-03-02</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-02T12:12:34.218Z" title="Updated 2021-03-02 20:12:34">2021-03-02</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post$ hexo new &quot;My New Post&quot;

More info: Writing
Run server$ hexo server

More info: Server
Generate static files$ hexo generate

More info: Generating
Deploy to remote sites$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/huiye/huiye.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303184956.gif'" alt="avatar"/><div class="author-info__name">0xNOPE</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">For you a thousand times over~</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/03/06/PE%E6%96%87%E4%BB%B6%E6%80%BB%E7%BB%93/" title="PE文件总结"><img src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="PE文件总结"/></a><div class="content"><a class="title" href="/2021/03/06/PE%E6%96%87%E4%BB%B6%E6%80%BB%E7%BB%93/" title="PE文件总结">PE文件总结</a><time datetime="2021-03-06T14:28:37.000Z" title="Created 2021-03-06 22:28:37">2021-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/06/inline-hook/" title="inline_hook"><img src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-3.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="inline_hook"/></a><div class="content"><a class="title" href="/2021/03/06/inline-hook/" title="inline_hook">inline_hook</a><time datetime="2021-03-06T13:39:39.000Z" title="Created 2021-03-06 21:39:39">2021-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/03/Buuctf-reverse/" title="Buuctf_reverse"><img src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-full-v3.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="Buuctf_reverse"/></a><div class="content"><a class="title" href="/2021/03/03/Buuctf-reverse/" title="Buuctf_reverse">Buuctf_reverse</a><time datetime="2021-03-03T14:58:40.000Z" title="Created 2021-03-03 22:58:40">2021-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/03/VMT-HOOK/" title="VMT_HOOK"><img src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-xmas2020-countdown-6.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="VMT_HOOK"/></a><div class="content"><a class="title" href="/2021/03/03/VMT-HOOK/" title="VMT_HOOK">VMT_HOOK</a><time datetime="2021-03-03T14:12:51.000Z" title="Created 2021-03-03 22:12:51">2021-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/03/C++%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A%E5%92%8C%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A/" title="C++中的静态绑定和动态绑定"><img src="https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/DemeterWu/demeter-wu-2019-xmas-countdown7.jpg" onerror="this.onerror=null;this.src='https://thhao0501.oss-cn-hongkong.aliyuncs.com/img/others/20210303185012.jpg'" alt="C++中的静态绑定和动态绑定"/></a><div class="content"><a class="title" href="/2021/03/03/C++%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A%E5%92%8C%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A/" title="C++中的静态绑定和动态绑定">C++中的静态绑定和动态绑定</a><time datetime="2021-03-03T12:05:24.000Z" title="Created 2021-03-03 20:05:24">2021-03-03</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C++</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/Win/"><span class="card-category-list-name">Win</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Reverse/"><span class="card-category-list-name">Reverse</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/"><span class="card-category-list-name">java</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Reverse/" style="font-size: 1.45em; color: rgb(167, 145, 120)">Reverse</a><a href="/tags/Hook/" style="font-size: 1.3em; color: rgb(138, 125, 13)">Hook</a><a href="/tags/C/" style="font-size: 1.45em; color: rgb(59, 142, 26)">C++</a><a href="/tags/jjaavvaa/" style="font-size: 1.15em; color: rgb(25, 13, 41)">jjaavvaa</a><a href="/tags/PE/" style="font-size: 1.15em; color: rgb(14, 91, 30)">PE</a><a href="/tags/Windows/" style="font-size: 1.15em; color: rgb(157, 101, 19)">Windows</a><a href="/tags/CTF/" style="font-size: 1.15em; color: rgb(88, 73, 154)">CTF</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">March 2021</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">8</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-03-06T14:59:51.946Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By 0xNOPE</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://github.com/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "好好学习&#44;天天向上,Supercalifragilisticexpialidocious".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '好好学习&#44;天天向上'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>